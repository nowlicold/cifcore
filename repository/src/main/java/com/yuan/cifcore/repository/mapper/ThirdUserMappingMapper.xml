<?xml version="1.0" encoding="GB2312" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>bench-gen-dal</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>bench</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>bench-gen-dal</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author nowli                                                          -->
<!-- ============================================================================= -->

<mapper namespace="com.yuan.cifcore.repository.mapper.ThirdUserMappingMapper">
	
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table cif_third_user_mapping -->
    <resultMap id="RM-THIRD-USER-MAPPING" type="com.yuan.cifcore.repository.entity.ThirdUserMappingDO">
        <result property="id" column="id"  javaType="long"  jdbcType="DECIMAL"/>
        <result property="thirdUserId" column="third_user_id"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
        <result property="thirdChannel" column="third_channel"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
        <result property="thirdLoginName" column="third_login_name"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
        <result property="thirdUserName" column="third_user_name"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
        <result property="properties" column="properties"  javaType="java.lang.String"  jdbcType="LONGVARCHAR"/>
        <result property="gmtCreate" column="gmt_create"  javaType="java.util.Date"  jdbcType="TIMESTAMP"/>
        <result property="gmtModified" column="gmt_modified"  javaType="java.util.Date"  jdbcType="TIMESTAMP"/>
        <result property="userId" column="user_id"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
        <result property="domain" column="domain"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
        <result property="thirdParentUserId" column="third_parent_user_id"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
        <result property="uniqueId" column="unique_id"  javaType="java.lang.String"  jdbcType="VARCHAR"/>
    </resultMap>

    <sql id="Base_Column_List">
         id  ,
         third_user_id  ,
         third_channel  ,
         third_login_name  ,
         third_user_name  ,
         properties  ,
         gmt_create  ,
         gmt_modified  ,
         user_id  ,
         domain  ,
         third_parent_user_id  ,
         unique_id 
    </sql>



   <sql id="SQL-CIF-THIRD-USER-MAPPING-searchWhereSql">
	  <where>
				<if test="id == 0">
					and id=#id#
                </if>
                <if test="userId != null and userId != ''">
					and user_id=#userId#
                </if>   
                <if test="thirdChannel != null and thirdChannel != ''">
					and third_channel=#thirdChannel#
                </if>  
                <if test="thirdUserName != null and thirdUserName != ''">
					and third_user_name=#thirdUserName#
                </if>    
                 <if test="thirdUserId != null and thirdUserId != ''">
					and third_user_id=#thirdUserId#
                </if>
                <if test="thirdLoginName != null and thirdLoginName != ''">
					and third_login_name=#thirdLoginName#
                </if>       
                <if test="thirdParentUserId != null and thirdParentUserId != ''">
					and third_parent_user_id=#thirdParentUserId#
                </if>
           </where>
   </sql>

    <!-- ============================================= -->
    <!-- mapped statements for IbatisThirdUserMappingDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByUserId -->
    <select id="selectByUserId" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, gmt_create, gmt_modified, domain, user_id, third_parent_user_id, unique_id from cif_third_user_mapping where (user_id = #{userId})
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByIdForUpdate -->
    <select id="selectByIdForUpdate" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, gmt_create, gmt_modified, domain, user_id, third_parent_user_id, unique_id from cif_third_user_mapping where (id = #{id}) for update 
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelAndUserId -->
    <select id="selectByThirdChannelAndUserId" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, gmt_create, gmt_modified, domain, user_id, third_parent_user_id, unique_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (user_id = #{userId}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelsAndUserId -->
    <select id="selectByThirdChannelsAndUserId" resultMap="RM-THIRD-USER-MAPPING">
        select id, third_user_id,			third_channel, third_login_name, third_user_name,			properties,user_id,			gmt_create,			gmt_modified,domain,third_parent_user_id,unique_id 			from cif_third_user_mapping			where user_id=#{userId} and third_channel in			<foreach open="(" close=")" separator="," collection="thirdChannels" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectThirdUserIdsByThirdChannelsAndUserId -->
    <select id="selectThirdUserIdsByThirdChannelsAndUserId" resultType="java.util.HashMap">
        select third_channel, third_user_id 			from cif_third_user_mapping			where user_id=#{userId} and third_channel in			<foreach open="(" close=")" separator="," collection="thirdChannels" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelThirdParentUserIdAndDomain -->
    <select id="selectByThirdChannelThirdParentUserIdAndDomain" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, gmt_create, gmt_modified, domain, user_id, third_parent_user_id, unique_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (third_parent_user_id = #{thirdParentUserId}) AND (domain = #{domain}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectThirdUserIdByThirdChannelAndUserId -->
    <select id="selectThirdUserIdByThirdChannelAndUserId" resultType="java.lang.String">
    <![CDATA[
        select third_user_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (user_id = #{userId}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectThirdParentUserIdByThirdChannelAndUserId -->
    <select id="selectThirdParentUserIdByThirdChannelAndUserId" resultType="java.lang.String">
    <![CDATA[
        select third_parent_user_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (user_id = #{userId}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelThirdUserIdAndDomainAndUserId -->
    <select id="selectByThirdChannelThirdUserIdAndDomainAndUserId" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, gmt_create, gmt_modified, domain, user_id, third_parent_user_id, unique_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (third_user_id = #{thirdUserId}) AND (domain = #{domain}) AND (user_id = #{userId}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectUserIdByThirdChannelThirdUserIdAndDomain -->
    <select id="selectUserIdByThirdChannelThirdUserIdAndDomain" resultType="java.lang.String">
    <![CDATA[
        select user_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (third_user_id = #{thirdUserId}) AND (domain = #{domain}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelThirdUserIdAndDomain -->
    <select id="selectByThirdChannelThirdUserIdAndDomain" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, gmt_create, gmt_modified, domain, user_id, third_parent_user_id, unique_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (third_user_id = #{thirdUserId}) AND (domain = #{domain}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelThirdUserIdsAndDomain -->
    <select id="selectByThirdChannelThirdUserIdsAndDomain" resultMap="RM-THIRD-USER-MAPPING">
        select id, third_user_id,			third_channel, third_login_name,			third_user_name,			properties,			gmt_create, gmt_modified,domain,user_id,third_parent_user_id,unique_id from			cif_third_user_mapping where domain=#{domain} and third_channel=#{thirdChannel}  and third_user_id in			<foreach open="(" close=")" separator="," collection="thirdUserIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectUserIdsByThirdChannelThirdUserIdsAndDomain -->
    <select id="selectUserIdsByThirdChannelThirdUserIdsAndDomain" resultType="java.lang.String">
        select  user_id from			cif_third_user_mapping where domain=#{domain} and third_channel=#{thirdChannel} and third_user_id in			<foreach open="(" close=")" separator="," collection="thirdUserIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectThirdUserIdWithUserIdByThirdChannelThirdUserIdsAndDomain -->
    <select id="selectThirdUserIdWithUserIdByThirdChannelThirdUserIdsAndDomain" resultType="java.util.HashMap">
        select  third_user_id, user_id from			cif_third_user_mapping where domain=#{domain} and third_channel=#{thirdChannel} and third_user_id  in			<foreach open="(" close=")" separator="," collection="thirdUserIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectCountByThirdChannelThirdUserIdAndDomainAndUserId -->
    <select id="selectCountByThirdChannelThirdUserIdAndDomainAndUserId" resultType="long">
    <![CDATA[
        select COUNT(*) from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (third_user_id = #{thirdUserId}) AND (domain = #{domain}) AND (user_id = #{userId}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectCountByUserId -->
    <select id="selectCountByUserId" resultType="long">
    <![CDATA[
        select COUNT(*) from cif_third_user_mapping where (user_id = #{userId})
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectUserIdThirdUserIdByThirdChannelAndUserIds -->
    <select id="selectUserIdThirdUserIdByThirdChannelAndUserIds" resultType="java.util.HashMap">
        select  third_user_id, user_id from			cif_third_user_mapping where third_channel=#{thirdChannel}  and user_id in			<foreach open="(" close=")" separator="," collection="userIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectUserIdsByThirdChannelThirdUserIds -->
    <select id="selectUserIdsByThirdChannelThirdUserIds" resultType="java.lang.String">
        select user_id from			cif_third_user_mapping where third_channel=#{thirdChannel}  and third_user_id in			<foreach open="(" close=")" separator="," collection="thirdUserIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.select -->
    <!-- queryPage分页方法dba注意sqlreview -->
    <select id="select" resultMap="RM-THIRD-USER-MAPPING">
        select id, third_user_id,			third_channel, third_login_name,			third_user_name, properties,			gmt_create, gmt_modified,domain,user_id,third_parent_user_id,unique_id from			cif_third_user_mapping			<include refid="SQL-CIF-THIRD-USER-MAPPING-searchWhereSql"/>			order by id desc
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByUserIds -->
    <select id="selectByUserIds" resultMap="RM-THIRD-USER-MAPPING">
        select id, third_user_id,			third_channel, third_login_name,			third_user_name,			properties,			gmt_create, gmt_modified,domain,user_id,third_parent_user_id,unique_id from			cif_third_user_mapping where  user_id in			<foreach open="(" close=")" separator="," collection="userIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectUserIdsByThirdChannelThirdParentUserIdAndDomain -->
    <select id="selectUserIdsByThirdChannelThirdParentUserIdAndDomain" resultType="java.lang.String">
    <![CDATA[
        select user_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (third_parent_user_id = #{thirdParentUserId}) AND (domain = #{domain}))
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.updateThirdLoginNameByThirdChannelAndThirdUserId -->
    <update id="updateThirdLoginNameByThirdChannelAndThirdUserId">
    <![CDATA[
        update cif_third_user_mapping set third_login_name=#{thirdLoginName}, gmt_modified=sysdate() where ((third_channel = #{thirdChannel}) AND (third_user_id = #{thirdUserId}))
    ]]>
    </update>

    <!-- mapped statement for IbatisThirdUserMappingDAO.updateThirdParentUserIdById -->
    <update id="updateThirdParentUserIdById">
    <![CDATA[
        update cif_third_user_mapping set third_parent_user_id=#{thirdParentUserId}, gmt_modified=sysdate() where (id = #{id})
    ]]>
    </update>

    <!-- mapped statement for IbatisThirdUserMappingDAO.selectDistinctThirdParentUserIdsByThirdChannelAndUserIds -->
    <select id="selectDistinctThirdParentUserIdsByThirdChannelAndUserIds" resultType="java.lang.String">
        select			 distinct third_parent_user_id  from			cif_third_user_mapping where third_channel=#{thirdChannel} and   user_id in			<foreach open="(" close=")" separator="," collection="userIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelAndUserIds -->
    <select id="selectByThirdChannelAndUserIds" resultMap="RM-THIRD-USER-MAPPING">
        select id, third_user_id,			third_channel, third_login_name,			third_user_name,			properties,			gmt_create,			gmt_modified,domain,user_id,third_parent_user_id,unique_id			from			cif_third_user_mapping where third_channel=#{thirdChannel} and   user_id in			<foreach open="(" close=")" separator="," collection="userIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectDistinctThirdParentUserIdsByThirdChannelUserIdsAndDomain -->
    <select id="selectDistinctThirdParentUserIdsByThirdChannelUserIdsAndDomain" resultType="java.lang.String">
        select			 distinct third_parent_user_id  from			cif_third_user_mapping where domain=#{domain} and third_channel=#{thirdChannel} and   user_id in			<foreach open="(" close=")" separator="," collection="userIds" item="item">				#{item}			</foreach>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectUserIdsWithSameThirdParentUserIdByUserIdAndDomain -->
    <select id="selectUserIdsWithSameThirdParentUserIdByUserIdAndDomain" resultType="java.lang.String">
        select t.user_id			from cif_third_user_mapping t			where			t.third_parent_user_id =			(select m.third_parent_user_id			from			cif_third_user_mapping m			where m.user_id = #{userId})			and t.domain =			#{domain}
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.selectByThirdChannelThirdUserIdAndDomainAndUserIdForUpdate -->
    <select id="selectByThirdChannelThirdUserIdAndDomainAndUserIdForUpdate" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, user_id, gmt_create, gmt_modified, domain, third_parent_user_id, unique_id from cif_third_user_mapping where ((third_channel = #{thirdChannel}) AND (third_user_id = #{thirdUserId}) AND (domain = #{domain}) AND (user_id = #{userId})) for update 
    ]]>
    </select>
    <!-- mapped statement for IbatisThirdUserMappingDAO.deleteById -->
    <delete id="deleteById">
    <![CDATA[
        delete from cif_third_user_mapping where (id = #{id})
    ]]>
    </delete>

    <!-- mapped statement for IbatisThirdUserMappingDAO.selectById -->
    <select id="selectById" resultMap="RM-THIRD-USER-MAPPING">
    <![CDATA[
        select id, third_user_id, third_channel, third_login_name, third_user_name, properties, user_id, gmt_create, gmt_modified, domain, third_parent_user_id, unique_id from cif_third_user_mapping where (id = #{id})
    ]]>
    </select>
 

</mapper>